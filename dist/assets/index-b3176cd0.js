import{j as e,r as y,a as w}from"./react-b3719f7a.js";import{c as C}from"./react-dom-21e1f03f.js";import{y as c}from"./@faker-js-4ed9c713.js";import{u as l,a as b,P as N}from"./react-redux-c02429bf.js";import"./hoist-non-react-statics-691fe6cb.js";import"./react-is-1aacdabe.js";import{N as g,u as R,a as F,b as p}from"./react-router-c4a722e1.js";import{C as O,a as B,A as W,r as A,b as E,T as u,I as P,d as D,c as G,B as T,e as m,f as U,g as h,h as f,F as q,G as d,i as j,j as z}from"./@mui-d136f05b.js";import{c as J,a as M}from"./@reduxjs-0f2bb641.js";import{B as _}from"./react-router-dom-5aecd6b7.js";import"./@babel-7d26e2d2.js";import"./scheduler-04ce0582.js";import"./use-sync-external-store-7ad4bc8c.js";import"./@remix-run-ec1f49a2.js";import"./clsx-1229b3e0.js";import"./@emotion-145c9041.js";import"./stylis-581c9ed0.js";import"./react-transition-group-222796d2.js";import"./immer-b106be54.js";import"./redux-c93e7c0a.js";import"./redux-thunk-ef899f4c.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const x=[];function $(){return{userId:c.datatype.uuid(),username:c.internet.userName(),email:c.internet.email(),avatar:c.image.avatar(),password:c.internet.password(),birthdate:c.date.birthdate().toString(),registeredAt:c.date.past().toString()}}Array.from({length:25}).forEach(()=>{x.push($())});const H=({children:r})=>l(n=>n.user.isLogged)?e.jsx(g,{to:"/user",replace:!0}):r,K=({children:r})=>l(n=>n.user.isLogged)?r:e.jsx(g,{to:"/login"});function Q({userId:r="No ID",userName:o="No Name",avatar:n,email:a="No Email",birthdate:t="No Birthdate",registeredAt:s="No Registered"}){return e.jsxs(O,{sx:{maxWidth:445},children:[e.jsx(B,{avatar:e.jsx(W,{sx:{bgcolor:A[500],width:56,height:56},"aria-label":"recipe",children:e.jsx("img",{src:n||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:"Avatar"})}),title:o,subheader:a}),e.jsx(E,{children:e.jsxs(u,{variant:"body2",color:"text.secondary",children:["Id de usuario: ",r,e.jsx("br",{}),"Fecha de nacimiento: ",t,e.jsx("br",{}),"Fecha de registro: ",s]})})]})}const V=()=>localStorage.getItem("authenticated")?JSON.parse(localStorage.getItem("authenticated")):{isLogged:!1,userInfo:null},L=J({name:"user",initialState:V,reducers:{userLogin:(r,o)=>{r.userInfo=o.payload,r.isLogged=!0},userLogout:(r,o)=>{r.userInfo=null,r.isLogged=!1}}}),{userLogin:X,userLogout:Y}=L.actions,Z=L.reducer,k=()=>{const r=b();return e.jsx(e.Fragment,{children:e.jsx(P,{size:"large",edge:"end",color:"inherit","aria-label":"menu",sx:{mt:1,mr:2},title:"Logout",onClick:()=>{r(Y())},children:e.jsx(u,{children:e.jsx(D,{})})})})},v=()=>{const r=l(o=>o.user.isLogged);return e.jsx(G,{position:"static",sx:{boxShadow:0,position:"fixed",mt:0,p:0,zIndex:2},children:e.jsxs(T,{maxWidth:"xl",sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(m,{maxWidth:"xl",children:e.jsxs(U,{disableGutters:!0,children:[e.jsx(h,{sx:{display:{xs:"none",md:"flex"},mr:1}}),e.jsx(u,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"}),e.jsx(h,{sx:{display:{xs:"flex",md:"none"},mr:1}}),e.jsx(u,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"LOGO"})]})}),e.jsx(m,{maxWidth:"xs",sx:{display:"flex",justifyContent:"flex-end"},children:r?e.jsx(k,{}):null})]})})},ee=()=>{const{userId:r,username:o,avatar:n,email:a,birthdate:t,registeredAt:s}=l(i=>i.user.userInfo);return e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(m,{maxWidth:"sm",sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",pt:25},children:e.jsx(Q,{userId:r,userName:o,avatar:n,email:a,birthdate:t,registeredAt:s})})]})},te=()=>{const r=R(),o=b(),n=t=>{const s=x.find(({email:i})=>i===t.email);return s&&s.password===t.password?(o(X(s)),!0):!1},a=t=>{t.preventDefault();const s=new FormData(t.currentTarget);var i={};s.forEach(function(S,I){i[I]=S}),n(i)?r("/user"):alert("Usuario o contraseÃ±a incorrectos")};return e.jsx(e.Fragment,{children:e.jsx(m,{maxWidth:"sm",sx:{paddingtop:"2rem",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",height:"100vh"},children:e.jsx(f,{component:"form",onSubmit:a,border:1,borderColor:"primary.main",borderRadius:8,padding:1,children:e.jsx(f,{borderColor:"primary.main",children:e.jsx(q,{children:e.jsxs(d,{container:!0,spacing:3,padding:5,children:[e.jsx(d,{item:!0,xs:12,children:e.jsx("h2",{children:"Login"})}),e.jsx(d,{item:!0,xs:12,children:e.jsx(j,{id:"email",name:"email",label:"E-mail",variant:"outlined",fullWidth:!0,required:!0})}),e.jsx(d,{item:!0,xs:12,children:e.jsx(j,{id:"password",name:"password",label:"Password",variant:"outlined",type:"password",fullWidth:!0,required:!0})}),e.jsx(d,{item:!0,xs:12,children:e.jsx(z,{type:"submit",variant:"contained",color:"primary",children:"Log in"})})]})})})})})})},re=()=>e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(te,{})]}),se=()=>{const r=l(o=>o.user);return y.useEffect(()=>{r.isLogged?localStorage.setItem("authenticated",JSON.stringify(r)):localStorage.removeItem("authenticated")},[r]),e.jsxs(F,{children:[e.jsx(p,{path:"*",element:e.jsx(g,{to:"/login"})}),e.jsx(p,{path:"/login",element:e.jsx(H,{children:e.jsx(re,{})})}),e.jsx(p,{path:"/user",element:e.jsx(K,{children:e.jsx(ee,{})})})]})};function oe(){return y.useEffect(()=>{x.length>0&&console.log(x)},[]),e.jsx(se,{})}const ne=M({reducer:{user:Z}});C.createRoot(document.getElementById("root")).render(e.jsx(w.StrictMode,{children:e.jsx(N,{store:ne,children:e.jsx(_,{children:e.jsx(oe,{})})})}));
